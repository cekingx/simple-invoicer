<!DOCTYPE html>
<html>
  {{> partials/head}}
  <body>
    <script src="https://cdn.tiny.cloud/1/d7azxkvknquchxctaa2irhkdxt6zqco7bxdq7soa1gowdbxm/tinymce/7/tinymce.min.js" referrerpolicy="origin"></script>
    <div class="flex flex-row justify-center">
      <div class="flex flex-col max-w-screen-md w-full h-dvh">
        <div class="container">
          <h1 class="font-bold text-2xl my-2">Create Invoice</h1>

          <form action="/invoice" method="post" class="flex flex-col">
            <div class="flex flex-row">
              <div class="flex flex-col flex-1">
                <label for="invoice-number" class="font-bold">Invoice Number</label>
                <input
                  type="text"
                  class="border border-black mb-2 p-1 rounded mr-1"
                  name="invoice-number"
                  id="invoice-number"
                  value="INV/2024/0001"
                >
              </div>
              <div class="flex flex-col flex-1 ml-1">
                <label for="invoice-date" class="font-bold">Invoice Date</label>
                <input
                  type="date"
                  value="{{ todayDate }}"
                  class="border border-black mb-2 p-1 rounded"
                  name="invoice-date"
                  id="invoice-date"
                >

                <label for="invoice-deadline" class="font-bold">Invoice Deadline</label>
                <input
                  type="date"
                  value="{{ tomorrowDate }}"
                  class="border border-black mb-2 p-1 rounded"
                  name="invoice-deadline"
                  id="invoice-deadline"
                >
              </div>
            </div>

            <div class="flex flex-row my-2">
              <div class="flex-1 m-1">
                <label for="company-info" class="font-bold mb-2">Company Info</label>
                <textarea name="company-info" id="company-info" class="mb-2">
                  <p>Company Name</p>
                  <p>Gedung Garuda 2nd Floor</p>
                  <p>Badung, Bali, 80771</p>
                  <p>NPWP: 1234567890</p>
                </textarea>
              </div>

              <div class="flex-1 m-1">
                <label for="customer-info" class="font-bold mb-2">Customer Info</label>
                <textarea name="customer-info" id="customer-info" class="mb-2">
                  <p>Customer Name</p>
                  <p>Jalan Raya Kuta No. 1</p>
                  <p>Badung, Bali, 80771</p>
                </textarea>
              </div>
            </div>


            <div class="container my-2">
              <label for="product" class="font-bold mb-2">Product</label>
              <div class="flex flex-row mb-2">
                <table class="border border-collapse table-auto flex-grow">
                  <thead class="border">
                    <tr>
                      <th class="border border-black p-1">Name</th>
                      <th class="border border-black p-1">Description</th>
                      <th class="border border-black p-1">Quantity</th>
                      <th class="border border-black p-1">Price</th>
                      <th class="border border-black p-1">Action</th>
                    </tr>
                  </thead>
                  <tbody class="border border-black">
                    <tr>
                      <td>
                        <input type="text" placeholder="Name" name="item-name" class="w-full p-1 border border-gray-700 rounded">
                      </td>
                      <td>
                        <input type="text" placeholder="Description" name="item-description" class="w-full p-1 border border-gray-700 rounded">
                      </td>
                      <td>
                        <input type="number" placeholder="Quantity" name="item-quantity" class="w-full p-1 border border-gray-700 rounded">
                      </td>
                      <td>
                        <input type="number" placeholder="Price" name="item-price" class="w-full p-1 border border-gray-700 rounded">
                      </td>
                      <td class="flex flex-row justify-center">
                        <button
                          hx-post="/invoice/save-product-item"
                          hx-target="closest tbody"
                          class="button border border-black p-1 rounded m-1"
                        >Add</button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <div class="container my-2">
              <label for="note" class="font-bold mb-2">Note</label>
              <textarea name="note" id="note">
                Payment to: 
              </textarea>
            </div>

            <button type="submit" class="bg-black text-white rounded px-2 py-4 my-2">Create Invoice</button>
          </form>
        </div>
      </div>
    </div>

  <script>
    tinymce.init({
      selector: 'textarea',
      height: 225,
      toolbar: 'bold italic underline numlist bullist',
      plugins: 'lists',
      menubar: false,
    });
  </script>
  </body>
</html>
